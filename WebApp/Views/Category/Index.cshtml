@model IEnumerable<WebApp.Models.Category>

<div class="container mt-5">
	<a href="@Url.Action("Create", "Category")" class="btn btn-secondary">Add Category</a>
	<div class="row">
		<!-- Expenses Table -->
		<div class="card shadow-lg mt-4">
			<div class="card-header bg-primary text-white">
				<h4 class="mb-0"><i class="fas fa-list"></i> Category List</h4>
			</div>
			<div class="card-body">
				<table class="table table-hover table-striped">
					<thead class="thead-dark">
						<tr>
							<th>#</th>
							<th>Category</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody id="expenseTable">
						@foreach (var i in Model)
						{
							<tr>
								<td>@i.User</td>
								<td>@i.CategoryName</td>
								<td>
									<a href="@Url.Action("Edit", "Category", new { id = i.CategoryId })" class="btn btn-warning btn-sm">
										<i class="fas fa-edit"></i> Edit
									</a>
									<a href="@Url.Action("Delete", "Category", new { id = i.CategoryId })" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this expense?');">
										<i class="fas fa-trash-alt"></i> Delete
									</a>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-- Include FontAwesome for Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

	<!-- Search Filter Script -->
	<script>
		document.getElementById("searchBox").addEventListener("keyup", function () {
			let filter = this.value.toLowerCase();
			let rows = document.querySelectorAll("#expenseTable tr");
			rows.forEach(row => {
				let text = row.innerText.toLowerCase();
				row.style.display = text.includes(filter) ? "" : "none";
			});
		});
	</script>
